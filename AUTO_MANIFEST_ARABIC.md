# โ ูุธุงู Auto-Manifest - ุฏููู ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู **Auto-Manifest** ุงูุขูู ุงูุฐู ูุณูุญ ุจุชุญุฏูุซ baseline ุงูุชุญูู ูู ุงููุฒุงูุฉ **ููุท** ุนูุฏ ุงูุทูุจ ุงูุตุฑูุญ ูู ุงููุทูุฑ.

---

## ๐ ุถูุงูุงุช ุงูุฃูุงู

โ **ูุง ูุนูู ุฃุจุฏุงู** ุฃุซูุงุก ุงูุชุดุบูู ุงูุนุงุฏู ูููุณุชุฎุฏู  
โ **ูุชุทูุจ** ุฅุดุงุฑุฉ ุตุฑูุญุฉ ูู ุงููุทูุฑ  
โ **ูุง ูุณุชุจุฏู** ุงูู manifest ุฅุฐุง ูุงูุช ูููุงุช ููููุฏุฉ (>30%)  
โ **ูุญุฐู** ููู `.dev_mode` ุชููุงุฆูุงู ุจุนุฏ ุงูุชูููุฐ  
โ **ูุณุชุฎุฏู** atomic file writes ูููุน ุงูุชูู  

---

## ๐๏ธ ุทุฑู ุงูุชูุนูู (5 ุทุฑู)

### ุงูุทุฑููุฉ 1๏ธโฃ: ุณุทุฑ ุงูุฃูุงูุฑ (ููุฑู)

```powershell
python main.py --generate-manifest
```

**ุงููุชูุฌุฉ:**
```
โ Manifest generated successfully in 4.3ms
```

**ุงูุงุณุชุฎุฏุงู:** ุชูููุฏ ุณุฑูุน ุฃุซูุงุก ุงูุชุทููุฑ

---

### ุงูุทุฑููุฉ 2๏ธโฃ: ููู .dev_mode (ุชููุงุฆู + ุญุฐู)

```powershell
# ุฅูุดุงุก ููู ุงูุชูุนูู
New-Item -ItemType File -Name ".dev_mode"

# ุชุดุบูู ุงูุชุทุจูู
python main.py
```

**ูุงุฐุง ูุญุฏุซ:**
1. ุงูุชุทุจูู ููุชุดู ููู `.dev_mode`
2. ูููุฏ manifest ุฌุฏูุฏ ุชููุงุฆูุงู
3. ูุญุฐู ููู `.dev_mode` ุจุนุฏ ุงููุฌุงุญ
4. ูููู ุงูุชุดุบูู ุงูุนุงุฏู

**ุงูุงุณุชุฎุฏุงู:** ุชุญุฏูุซ ุชููุงุฆู ููุฑุฉ ูุงุญุฏุฉ

---

### ุงูุทุฑููุฉ 3๏ธโฃ: ูุชุบูุฑ ุงูุจูุฆุฉ (ููุฌูุณุฉ)

```powershell
# ุชูุนูู ูุถุน ุงููุทูุฑ
$env:APP_DEV_MODE = "1"

# ุชุดุบูู ุงูุชุทุจูู
python main.py
```

**ุงูุงุณุชุฎุฏุงู:** ุฌูุณุงุช ุงูุชุทููุฑ ุงููุชุนุฏุฏุฉ

---

### ุงูุทุฑููุฉ 4๏ธโฃ: ุนููู --auto-manifest (ูุงุฌูุฉ + ุชููุงุฆู)

```powershell
python main.py --auto-manifest
```

**ูุงุฐุง ูุญุฏุซ:**
- ูุถุจุท `APP_DEV_MODE=1` ุฏุงุฎููุงู
- ููุชุญ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุงููุฉ
- ูููุฏ manifest ุชููุงุฆูุงู ุนูุฏ ุงูุญุงุฌุฉ

**ุงูุงุณุชุฎุฏุงู:** ุงุฎุชุจุงุฑ ุงููุงุฌูุฉ ูุน ุชุญุฏูุซ ุชููุงุฆู

---

### ุงูุทุฑููุฉ 5๏ธโฃ: ุฒุฑ ุงููุงุฌูุฉ (ุชูุงุนูู)

1. ุงูุชุญ **Tools โ Integrity Details**
2. ุงุถุบุท **๐ง Auto-Generate Manifest**
3. ุฃููุฏ ุงูุชุญุฐูุฑ
4. ุชู ุงูุชูููุฏ ููุฑุงู!

**ุงูุงุณุชุฎุฏุงู:** ุชุญูู ูุฏูู ูุน ุชุฃููุฏ ูุฑุฆู

---

## ๐ ุชูุณูู Manifest ุงูุฌุฏูุฏ

```json
{
  "_metadata": {
    "generated_at": "2025-12-03 14:52:57",
    "generation_mode": "auto",
    "total_files": 11,
    "hashed_files": 11,
    "missing_files": 0,
    "failed_files": 0
  },
  "files": {
    "main.py": "6a52072df8b51dca...",
    "ui_main.py": "6329860bd86b6264...",
    ...
  }
}
```

### ุฃููุงุน ุงูุชูููุฏ:
- **`manual`** - ูู ุฒุฑ ุงููุงุฌูุฉ
- **`auto`** - ูู `.dev_mode` ุฃู `APP_DEV_MODE`
- **`cli`** - ูู `--generate-manifest`

---

## ๐ ูุงูุฐุฉ Integrity Details ุงููุญุฏูุซุฉ

ุชุนุฑุถ ุงูุขู:

| ุงูุญูู | ุงููุตู |
|-------|-------|
| **ุขุฎุฑ ุชูููุฏ ููู Manifest** | ุงูุชุงุฑูุฎ ูุงูููุช |
| **ุทุฑููุฉ ุงูุชูููุฏ** | Manual / Auto / CLI |
| **ุงูุญุงูุฉ ุงูุนุงูุฉ** | โ Verified / โ Modified / โ Missing |
| **ุฅุฌูุงูู ุงููููุงุช** | ุนุฏุฏ ุงููููุงุช ุงููุฑุงูุจุฉ (11) |
| **โ ูุชุทุงุจูุฉ** | ูููุงุช ุจููุณ ุงูู hash |
| **โ ูุนุฏููุฉ** | ูููุงุช ุชุบูุฑุช |
| **โ ููููุฏุฉ** | ูููุงุช ุบูุฑ ููุฌูุฏุฉ |
| **ููุช ุงูุชุญูู** | ุจุงูู milliseconds |

---

## ๐งช ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ

```
[1] Manifest Status:
    EXISTS: True
    Generated: 2025-12-03 14:52:57
    Mode: auto
    Files: 11

[2] Integrity Check:
    Result: PASSED
    Status: Verified
    Time: 3.63 ms

[3] Available Triggers:
    [A] --generate-manifest (CLI)
    [B] .dev_mode file
    [C] APP_DEV_MODE=1 (env)
    [D] --auto-manifest (GUI)
    [E] UI Button (Tools menu)

[4] Safety Check:
    Auto-generate without triggers: False
    Protection active: True

[5] Detailed Report:
    Overall: verified
    Matched: 11
    Modified: 0
    Missing: 0
    Last generated: 2025-12-03 14:52:57
    Generation mode: auto

โโโ ALL SYSTEMS OPERATIONAL โโโ
```

---

## ๐ก ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฌูุณุฉ ุชุทููุฑ

```powershell
# ุจุฏุงูุฉ ุงูุฌูุณุฉ
$env:APP_DEV_MODE = "1"

# ุชุนุฏูู ุงูููุฏ
# Edit main.py...

# ุชุดุบูู - manifest ูุชุญุฏุซ ุชููุงุฆูุงู
python main.py

# ุชุนุฏูู ุขุฎุฑ
# Edit ui_main.py...

# ุชุดุบูู - manifest ูุชุญุฏุซ ูุฑุฉ ุฃุฎุฑู
python main.py
```

### ูุซุงู 2: ุฅุตูุงุญ ุณุฑูุน

```powershell
# ุฅุตูุงุญ bug
# Edit refresher.py...

# ุชูุนูู ุชุญุฏูุซ ูุงุญุฏ
New-Item -ItemType File -Name ".dev_mode"

# ุงุฎุชุจุงุฑ ุงูุฅุตูุงุญ
python main.py

# .dev_mode ุชู ุญุฐูู ุชููุงุฆูุงู
```

### ูุซุงู 3: ูุจู ุงูู Commit

```powershell
# ุชูููุฏ manifest ููุงุฆู
python main.py --generate-manifest

# ุงูุชุญูู ูู ุงููููุงุช
python -c "from integrity_checker import IntegrityChecker; c = IntegrityChecker(); m = c.get_manifest_metadata(); print('Files:', m['total_files'])"

# ุฑูุน ููู repository
git add integrity_manifest.json
git commit -m "Update integrity manifest"
```

---

## โ ุงููููุงุช ุงููุนุฏููุฉ

1. **`integrity_checker.py`** (+175 ุณุทุฑ)
   - `should_auto_generate()` - ูุญุต triggers
   - `auto_generate_if_triggered()` - ุชูููุฏ ุชููุงุฆู
   - `_check_dev_mode_file()` - ูุญุต ููู ุงูุชูุนูู
   - `_delete_dev_mode_file()` - ุญุฐู ุจุนุฏ ุงูุงุณุชุฎุฏุงู
   - `generate_manifest(mode)` - ูุน metadata ูุฃูุงู
   - `get_manifest_metadata()` - ุงุณุชุฑุฌุงุน ูุนูููุงุช ุงูุชูููุฏ

2. **`main.py`** (+15 ุณุทุฑ)
   - ุฏุนู `--auto-manifest` flag
   - ุฏูุฌ `auto_generate_if_triggered()` ูู startup
   - ุชุญุฏูุซ docstring

3. **`integrity_ui.py`** (+60 ุณุทุฑ)
   - ุญูู `last_generated_label`
   - ุญูู `generation_mode_label`
   - ุฒุฑ **๐ง Auto-Generate Manifest**
   - `handle_auto_generate()` method

4. **ูููุงุช ุงุฎุชุจุงุฑ ุฌุฏูุฏุฉ:**
   - `test_auto_manifest.py` - ุงุฎุชุจุงุฑ ุดุงูู
   - `test_triggers.py` - ุงุฎุชุจุงุฑ ุงูู triggers
   - `AUTO_MANIFEST_GUIDE.md` - ุฏููู ููุตู ุจุงูุฅูุฌููุฒูุฉ

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ูููุทูุฑ:
โ 5 ุทุฑู ูุฎุชููุฉ ููุชุญุฏูุซ  
โ ุฃูุงู ูุงูู ุถุฏ ุงูุชุญุฏูุซ ุงูุนุฑุถู  
โ ุณุฑุนุฉ ุชูููุฏ (<5ms)  
โ metadata ููุตู ููู ุชูููุฏ  

### ูููุณุชุฎุฏู:
โ ูุง ูุญุชุงุฌ ุฃู ุฅุฌุฑุงุก  
โ ุงูุญูุงูุฉ ุฏุงุฆูุงู ูุนูุงูุฉ  
โ ูุง ุชุฃุซูุฑ ุนูู ุงูุฃุฏุงุก  
โ ูุง ูุณุงุณ ุจุงูุฃูุงู  

---

**ุงูุญุงูุฉ:** โ ุฌููุน ุงูุฃูุธูุฉ ุชุนูู ุจุดูู ุตุญูุญ  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุชุงุฑูุฎ:** 2025-12-03  
**ุงููุทูุฑ:** ENG. Saeed Al-moghrabi
